"use strict";(self.webpackChunkpyrsia=self.webpackChunkpyrsia||[]).push([[5884],{3905:function(e,t,r){r.d(t,{Zo:function(){return p},kt:function(){return m}});var n=r(7294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var s=n.createContext({}),u=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):l(l({},t),e)),r},p=function(e){var t=u(e.components);return n.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,a=e.originalType,s=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),d=u(r),m=o,h=d["".concat(s,".").concat(m)]||d[m]||c[m]||a;return r?n.createElement(h,l(l({ref:t},p),{},{components:r})):n.createElement(h,l({ref:t},p))}));function m(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=r.length,l=new Array(a);l[0]=d;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:o,l[1]=i;for(var u=2;u<a;u++)l[u]=r[u];return n.createElement.apply(null,l)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},1342:function(e,t,r){r.r(t),r.d(t,{assets:function(){return p},contentTitle:function(){return s},default:function(){return m},frontMatter:function(){return i},metadata:function(){return u},toc:function(){return c}});var n=r(7462),o=r(3366),a=(r(7294),r(3905)),l=["components"],i={custom_edit_url:"https://github.com/pyrsia/pyrsia/edit/main/docs/dev_workflow.md"},s="Code Contribution Workflow",u={unversionedId:"developer/dev_workflow",id:"developer/dev_workflow",title:"Code Contribution Workflow",description:'When developing new features for Pyrsia, we aim for the best quality code possible. Here\'s the steps with some "How To"s on getting there.',source:"@site/docs/developer/dev_workflow.md",sourceDirName:"developer",slug:"/developer/dev_workflow",permalink:"/docs/developer/dev_workflow",editUrl:"https://github.com/pyrsia/pyrsia/edit/main/docs/dev_workflow.md",tags:[],version:"current",frontMatter:{custom_edit_url:"https://github.com/pyrsia/pyrsia/edit/main/docs/dev_workflow.md"},sidebar:"tutorialSidebar",previous:{title:"Cryptographic Concetpts",permalink:"/docs/developer/cryptographic_key_concept"},next:{title:"Good Pull Requests",permalink:"/docs/developer/good_pr"}},p={},c=[{value:"Builds and Tests Pass",id:"builds-and-tests-pass",level:2},{value:"A release build",id:"a-release-build",level:3},{value:"Format and Linting",id:"format-and-linting",level:2},{value:"Install Linters",id:"install-linters",level:3},{value:"Security Audit",id:"security-audit",level:2},{value:"Install Audit",id:"install-audit",level:3},{value:"End-to-End testing",id:"end-to-end-testing",level:2},{value:"How-to Update",id:"how-to-update",level:2}],d={toc:c};function m(e){var t=e.components,r=(0,o.Z)(e,l);return(0,a.kt)("wrapper",(0,n.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"code-contribution-workflow"},"Code Contribution Workflow"),(0,a.kt)("p",null,'When developing new features for Pyrsia, we aim for the best quality code possible. Here\'s the steps with some "How To"s on getting there.'),(0,a.kt)("p",null,'We also have "pre commit" scripts (located in the root of the repository) which will run on of these steps.\nThis is a easy way to prepare your changes ahead of opening a pull request.'),(0,a.kt)("h2",{id:"builds-and-tests-pass"},"Builds and Tests Pass"),(0,a.kt)("p",null,"The base line is making sure all the code compiles and every test passes."),(0,a.kt)("p",null,"\u2757 This is enforced by our Action jobs."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"cargo build --all-targets\ncargo test --workspace\n")),(0,a.kt)("h3",{id:"a-release-build"},"A release build"),(0,a.kt)("p",null,"Pyrsia provides a release build that is installed through system package managers. This should be built and run as part of the integration tests."),(0,a.kt)("p",null,"\u2139\ufe0f For major changes, this is recommended."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"cargo build --all-targets --release\n")),(0,a.kt)("h2",{id:"format-and-linting"},"Format and Linting"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u26a0\ufe0f ",(0,a.kt)("em",{parentName:"p"},"Make sure to follow the install instructions ",(0,a.kt)("a",{parentName:"em",href:"#install-linters"},"here")," on your first time"))),(0,a.kt)("p",null,"We have dedicated ourselves to the community and following the standard practices such as ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/rust-dev-tools/fmt-rfcs"},"https://github.com/rust-dev-tools/fmt-rfcs"),"."),(0,a.kt)("p",null,"\u2757 We are strict about letting warnings into our code base. This is partially enforced by our Action jobs."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"cargo fmt\ncargo clippy\n")),(0,a.kt)("h3",{id:"install-linters"},"Install Linters"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Rustfmt: ",(0,a.kt)("a",{parentName:"li",href:"https://github.com/rust-lang/rustfmt#quick-start"},"https://github.com/rust-lang/rustfmt#quick-start")),(0,a.kt)("li",{parentName:"ul"},"Clippy: ",(0,a.kt)("a",{parentName:"li",href:"https://github.com/rust-lang/rust-clippy#step-2-install-clippy"},"https://github.com/rust-lang/rust-clippy#step-2-install-clippy"))),(0,a.kt)("h2",{id:"security-audit"},"Security Audit"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\u26a0\ufe0f ",(0,a.kt)("em",{parentName:"p"},"Make sure to follow the install instructions ",(0,a.kt)("a",{parentName:"em",href:"#install-audit"},"here")," on your first time"))),(0,a.kt)("p",null,"It goes without saying, this is hugely important to use. Make sure to run this if there are any changes to the dependencies or ",(0,a.kt)("inlineCode",{parentName:"p"},"Cargo.lock")," file."),(0,a.kt)("p",null,"\u2757 This is enforced by our Action jobs."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"cargo audit\n")),(0,a.kt)("h3",{id:"install-audit"},"Install Audit"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"RustSec's Audit: ",(0,a.kt)("a",{parentName:"li",href:"https://github.com/rustsec/rustsec/tree/main/cargo-audit#installation"},"https://github.com/rustsec/rustsec/tree/main/cargo-audit#installation"))),(0,a.kt)("h2",{id:"end-to-end-testing"},"End-to-End testing"),(0,a.kt)("p",null,"It's strongly encouraged to run a full test to make sure interaction with external tools are not broken.\nYou can follow the ",(0,a.kt)("a",{parentName:"p",href:"/docs/developer/local_dev_setup"},"Local Development Setup")," guide to perform this."),(0,a.kt)("h2",{id:"how-to-update"},"How-to Update"),(0,a.kt)("p",null,"We currently target the most current stable version of the rust toolchain. Periodically execute"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"rustup update\n")))}m.isMDXComponent=!0}}]);